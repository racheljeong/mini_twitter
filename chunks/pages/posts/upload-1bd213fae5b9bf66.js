(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[951],{952:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/posts/upload",function(){return s(3244)}])},4212:function(e,t,s){"use strict";s.d(t,{Z:function(){return Button}});var r=s(5893),n=s(5943);function Button(e){let{large:t=!1,onClick:s,text:o,...l}=e;return(0,r.jsx)("button",{...l,className:(0,n.y)("w-full bg-sky-400 hover:bg-sky-600 text-white px-4 my-3 py-3 border border-transparent rounded-md shadow-sm font-medium focus:ring-2 focus:ring-offset-2 focus:ring-sky-700 focus:outline-none",t?"py-3 text-base":"py-2 text-sm "),children:o})}},7461:function(e,t,s){"use strict";s.d(t,{Z:function(){return Input}});var r=s(5893);function Input(e){let{label:t,name:s,kind:n="text",register:o,readonly:l,type:a,...i}=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"mb-1 block text-sm font-medium text-gray-700",htmlFor:s,children:t}),"text"===n?(0,r.jsx)("div",{className:"rounded-md relative flex  items-center shadow-sm",children:(0,r.jsx)("input",{id:s,...o,type:"type",className:"appearance-none w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-sky-500 focus:border-sky-500 error:focus:border-red-500 "})}):null,"email"===n?(0,r.jsx)("div",{className:"rounded-md relative flex  items-center shadow-sm",children:(0,r.jsx)("input",{id:s,...o,type:"type",readOnly:!0,className:"appearance-none w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-sky-500 focus:border-sky-500"})}):null]})}},2266:function(e,t,s){"use strict";s.d(t,{Z:function(){return Layout}});var r=s(5893);s(7294);var n=s(1664),o=s.n(n),l=s(5943),a=s(1163);function Layout(e){let{title:t,canGoBack:s,hasTabBar:n,children:i}=e,c=(0,a.useRouter)();return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"justify-center text-lg px-10 py-4 font-medium text-gray-800 border-b top-0 flex items-center",children:[(0,r.jsx)("div",{className:"flex justify-center items-center py-10",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-20 w-20 fill-sky-500 items-center",viewBox:"0 0 512 512",children:(0,r.jsx)("path",{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"})})}),s?(0,r.jsx)("button",{onClick:()=>{c.back()},className:"absolute left-4 m-0",children:(0,r.jsx)("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}):null,t?(0,r.jsx)("span",{className:(0,l.y)(s?"text-4xl text-center mt-5 font-bold text-sky-500":"text-6xl text-center mt-5 font-bold text-sky-500",""),children:t}):null]}),(0,r.jsx)("div",{className:(0,l.y)("pt-12",n?"my-4":""),children:i}),n?(0,r.jsxs)("nav",{className:"bg-white max-w-3xl text-gray-700 border-t bottom-0 w-full px-10 pb-5 pt-3 flex justify-between text-xs",children:[(0,r.jsx)(o(),{href:"/",className:(0,l.y)("flex flex-col items-center space-y-2 ","/"===c.pathname?"text-sky-500":"hover:text-gray-500 transition-colors"),children:(0,r.jsx)("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),(0,r.jsx)(o(),{href:"/users/id",className:(0,l.y)("flex flex-col items-center space-y-2 ","/"===c.pathname?"text-sky-500":"hover:text-gray-500 transition-colors"),children:(0,r.jsx)("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]}):null]})}},7154:function(e,t,s){"use strict";s.d(t,{Z:function(){return useMutation}});var r=s(7294);function useMutation(e){let[t,s]=(0,r.useState)({loading:!1,data:void 0,error:void 0});return[function(t){s(e=>({...e,loading:!0})),fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(e=>e.json().catch(()=>{})).then(e=>s(t=>({...t,data:e}))).catch(e=>s(t=>({...t,error:e}))).finally(()=>s(e=>({...e,loading:!1})))},{...t}]}},5943:function(e,t,s){"use strict";function cls(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.join(" ")}s.d(t,{y:function(){return cls}})},3244:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return upload}});var r=s(5893),n=s(4212),o=s(7461),l=s(2266);function TextArea(e){let{label:t,name:s,register:n,...o}=e;return(0,r.jsxs)("div",{children:[t?(0,r.jsx)("label",{htmlFor:s,className:"mb-1 block text-sm font-medium text-gray-700",children:t}):null,(0,r.jsx)("textarea",{...n,id:s,className:"mt-1 shadow-sm w-full focus:ring-sky-500 rounded-md border-gray-300 focus:border-sky-500 ",rows:4,...o})]})}var a=s(7536),i=s(7154),c=s(1163),d=s(7294),upload=()=>{let{register:e,handleSubmit:t}=(0,a.cI)(),s=(0,c.useRouter)(),[u,{loading:m,data:x}]=(0,i.Z)("/api/posts");return(0,d.useEffect)(()=>{(null==x?void 0:x.ok)&&s.push("/posts/".concat(x.posts.id))},[x,s]),(0,r.jsx)(l.Z,{canGoBack:!0,title:"Upload Posts",children:(0,r.jsxs)("form",{className:"p-4 space-y-4",onSubmit:t(e=>{console.log("posts",e),m||u(e)}),children:[(0,r.jsx)("div",{children:(0,r.jsxs)("label",{className:"w-full cursor-pointer text-gray-600 hover:border-sky-500 hover:text-sky-500 flex items-center justify-center border-2 border-dashed border-gray-300 h-48 rounded-md",children:[(0,r.jsx)("svg",{className:"h-12 w-12",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:(0,r.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),(0,r.jsx)("input",{className:"hidden",type:"file"})]})}),(0,r.jsx)(o.Z,{register:e("name",{required:!0}),label:"Name",name:"name",type:"text"}),(0,r.jsx)(TextArea,{register:e("contents",{required:!0}),name:"contents",label:"contents"}),(0,r.jsx)(n.Z,{text:m?"Loading...":"Upload item"})]})})}}},function(e){e.O(0,[424,536,774,888,179],function(){return e(e.s=952)}),_N_E=e.O()}]);