(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[529],{9874:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/users/profile",function(){return r(4525)}])},4212:function(e,t,r){"use strict";r.d(t,{Z:function(){return Button}});var s=r(5893),n=r(5943);function Button(e){let{large:t=!1,onClick:r,text:o,...a}=e;return(0,s.jsx)("button",{...a,className:(0,n.y)("w-full bg-sky-400 hover:bg-sky-600 text-white px-4 my-3 py-3 border border-transparent rounded-md shadow-sm font-medium focus:ring-2 focus:ring-offset-2 focus:ring-sky-700 focus:outline-none",t?"py-3 text-base":"py-2 text-sm "),children:o})}},7461:function(e,t,r){"use strict";r.d(t,{Z:function(){return Input}});var s=r(5893);function Input(e){let{label:t,name:r,kind:n="text",register:o,readonly:a,type:l,...i}=e;return(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"mb-1 block text-sm font-medium text-gray-700",htmlFor:r,children:t}),"text"===n?(0,s.jsx)("div",{className:"rounded-md relative flex  items-center shadow-sm",children:(0,s.jsx)("input",{id:r,...o,type:"type",className:"appearance-none w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-sky-500 focus:border-sky-500 error:focus:border-red-500 "})}):null,"email"===n?(0,s.jsx)("div",{className:"rounded-md relative flex  items-center shadow-sm",children:(0,s.jsx)("input",{id:r,...o,type:"type",readOnly:!0,className:"appearance-none w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-sky-500 focus:border-sky-500"})}):null]})}},2266:function(e,t,r){"use strict";r.d(t,{Z:function(){return Layout}});var s=r(5893);r(7294);var n=r(1664),o=r.n(n),a=r(5943),l=r(1163);function Layout(e){let{title:t,canGoBack:r,hasTabBar:n,children:i}=e,c=(0,l.useRouter)();return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"justify-center text-lg px-10 py-4 font-medium text-gray-800 border-b top-0 flex items-center",children:[(0,s.jsx)("div",{className:"flex justify-center items-center py-10",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-20 w-20 fill-sky-500 items-center",viewBox:"0 0 512 512",children:(0,s.jsx)("path",{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"})})}),r?(0,s.jsx)("button",{onClick:()=>{c.back()},className:"absolute left-4 m-0",children:(0,s.jsx)("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}):null,t?(0,s.jsx)("span",{className:(0,a.y)(r?"text-4xl text-center mt-5 font-bold text-sky-500":"text-6xl text-center mt-5 font-bold text-sky-500",""),children:t}):null]}),(0,s.jsx)("div",{className:(0,a.y)("pt-12",n?"my-4":""),children:i}),n?(0,s.jsxs)("nav",{className:"bg-white max-w-3xl text-gray-700 border-t bottom-0 w-full px-10 pb-5 pt-3 flex justify-between text-xs",children:[(0,s.jsx)(o(),{href:"/",className:(0,a.y)("flex flex-col items-center space-y-2 ","/"===c.pathname?"text-sky-500":"hover:text-gray-500 transition-colors"),children:(0,s.jsx)("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),(0,s.jsx)(o(),{href:"/users/id",className:(0,a.y)("flex flex-col items-center space-y-2 ","/"===c.pathname?"text-sky-500":"hover:text-gray-500 transition-colors"),children:(0,s.jsx)("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]}):null]})}},7154:function(e,t,r){"use strict";r.d(t,{Z:function(){return useMutation}});var s=r(7294);function useMutation(e){let[t,r]=(0,s.useState)({loading:!1,data:void 0,error:void 0});return[function(t){r(e=>({...e,loading:!0})),fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(e=>e.json().catch(()=>{})).then(e=>r(t=>({...t,data:e}))).catch(e=>r(t=>({...t,error:e}))).finally(()=>r(e=>({...e,loading:!1})))},{...t}]}},8039:function(e,t,r){"use strict";r.d(t,{Z:function(){return useUser}});var s=r(1163),n=r(7294),o=r(9734);function useUser(){let{data:e,error:t}=(0,o.ZP)("/api/users/me"),r=(0,s.useRouter)();return console.log("data in useUser : ".concat(e)),console.log("path",r.pathname),(0,n.useEffect)(()=>{e&&!e.ok&&r.replace("/create-account")},[e,r]),{user:null==e?void 0:e.profile,isLoading:!e&&!t}}},5943:function(e,t,r){"use strict";function cls(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.join(" ")}r.d(t,{y:function(){return cls}})},4525:function(e,t,r){"use strict";r.r(t);var s=r(5893),n=r(4212),o=r(7461),a=r(2266),l=r(8039),i=r(7536),c=r(7294),u=r(7154);t.default=()=>{let{user:e}=(0,l.Z)();console.log("users in Edit",{user:e});let{register:t,setValue:r,formState:{errors:d},handleSubmit:m,setError:f,reset:x}=(0,i.cI)({mode:"onChange"});(0,c.useEffect)(()=>{e&&(r("name",e.name),r("email",e.email))},[e,r]);let[h,{data:p,loading:y}]=(0,u.Z)("/api/users/me");return(0,c.useEffect)(()=>{p&&!p.ok&&p.error&&f("formErrors",{message:p.error})},[p,f]),(0,s.jsx)(a.Z,{canGoBack:!0,title:"Profile",children:(0,s.jsxs)("form",{onSubmit:m(t=>{let{name:r}=t;y||((null==e?void 0:e.name)===""&&f("formErrors",{message:"Please fill out the form. Name are required."}),h({name:r}))}),className:"py-10 px-4 space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-24 h-24 rounded-full bg-slate-400"}),(0,s.jsxs)("label",{htmlFor:"picture",className:"cursor-pointer py-2 px-3 border hover:bg-gray-50 border-gray-300 rounded-md shadow-sm text-sm font-medium focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 text-gray-700",children:["Change",(0,s.jsx)("input",{id:"picture",type:"file",className:"hidden",accept:"image/*"})]})]}),(0,s.jsx)(o.Z,{register:t("name",{required:"Name is required"}),label:"name",name:"name",type:"text"}),d.name?(0,s.jsx)("span",{className:"my-2 text-red-500 text-sm",children:d.name.message}):null,(0,s.jsx)(o.Z,{register:t("email",{required:"Email is required"}),label:"Email address",name:"email",type:"email",kind:"email",readonly:!0}),d.formErrors?(0,s.jsx)("span",{className:"my-2 text-red-500 font-medium text-center block",children:d.formErrors.message}):null,(0,s.jsx)(n.Z,{text:"Update profile"})]})})}}},function(e){e.O(0,[424,536,774,888,179],function(){return e(e.s=9874)}),_N_E=e.O()}]);